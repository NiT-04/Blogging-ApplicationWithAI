<!DOCTYPE html>
<html lang="en">
<head>
    <%- include("./partials/head")%>
    <title>Homepage</title>
    <style>
        /* Optional: styling for summary and tags */
        .summary {
            font-style: italic;
            color: #555;
            margin-bottom: 8px;
        }

        .tags {
            margin-top: 5px;
        }

        .tag {
            display: inline-block;
            background-color: #e0e0e0;
            color: #333;
            padding: 3px 8px;
            border-radius: 5px;
            margin-right: 5px;
            font-size: 0.85rem;
        }
    </style>
</head>
<body>
    <%- include("./partials/nav")%>
    <div class="container mt-3 row row-cols-1 row-cols-md-4 g-3">
        <% blogs.forEach(blog => { %>
            <div class="col">
                <div class="card h-100">
                    <% if(blog.coverImageURL && blog.coverImageURL !== "") { %>
                        <img src="<%= blog.coverImageURL %>" class="card-img-top" alt="...">
                    <% } %>
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title"><%= blog.title %></h5>

                        <!-- AI Summary -->
                        <% if(blog.summary && blog.summary.length > 0){ %>
                            <p class="summary"><%= blog.summary %></p>
                        <% } %>

                        <!-- AI Tags -->
                        <% if(blog.tagsAI && blog.tagsAI.length > 0){ %>
                            <div class="tags">
                                <% blog.tagsAI.forEach(function(tag){ %>
                                    <span class="tag"><%= tag %></span>
                                <% }) %>
                            </div>
                        <% } %>

                        <a href="/blog/<%= blog._id %>" class="btn btn-primary mt-auto">View</a>
                    </div>
                </div>
            </div>
        <% }) %>
    </div>
    <%- include("./partials/scripts")%>
</body>
</html>
